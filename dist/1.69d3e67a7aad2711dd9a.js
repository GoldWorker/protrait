(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"0FSE":function(e,_,t){"use strict";(function(e){t.d(_,"c",function(){return u}),t.d(_,"a",function(){return l}),t.d(_,"d",function(){return o}),t.d(_,"b",function(){return i}),t.d(_,"e",function(){return E});var a,r=t("XWAi");(a=t("0cfB").enterModule)&&a(e);var n,s,c=new r.a,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.get("user/detail",e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.get("client",e)},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.get("user/yarn_queue",e)},i=function(e){return c.get("client/"+e,{})},E=function(e){return c.put("user/yarn_queue",e)};n=t("0cfB").default,s=t("0cfB").leaveModule,n&&(n.register(c,"http","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),n.register(u,"getUserInfo","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),n.register(l,"getJptList","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),n.register(o,"getUserSource","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),n.register(i,"getJptState","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),n.register(E,"updateJptYarn","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/data.jsx"),s(e))}).call(this,t("3UD+")(e))},JQC6:function(e,_,t){},XWAi:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("QbLZ"),babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("iCc5"),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("V7oC"),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("LpSC"),isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3__),jquery__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("EVdn"),jquery__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__),enterModule;enterModule=__webpack_require__("0cfB").enterModule,enterModule&&enterModule(module),__webpack_require__("E2g8").polyfill();var BASE_API_MAP={APP:"http://databench-api.dp.jpushoa.com/"},DEV_TOKEN="sessionId=40d259fe9765927a8c3a72ee8bd54b15dfdfe840b34daf777c508f4aed0f215be95ada8862e0e90d42344b4811c5369ff014317eaa0e6004e26d15d2693d89ef3843b021d52088882a40cf8272e3e1baca9681217f71363c7697df34115c0aaf55b8f863038389922a1a2e4a988c5e0599e4e47d425469c9c81fd0606125d75d256e1e707da3cf6ac8e1382413e0b1b8bff7116f8b7381be58279b9ffa24174091340cc163ee94ca2a0671c3d6f87497225a4cd7216848da39ddcd54730d8f88deab91eb62d082762743cc8f4e61bbd03a19ac9a1ae91faa041fa4d2066b4686_1458",RequestBase=function(){function RequestBase(){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,RequestBase),this.url="",this.ok=!0}return babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(RequestBase,[{key:"get",value:function(e,_){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=jquery__WEBPACK_IMPORTED_MODULE_4__.param(_);return t=t||"APP",this.url=BASE_API_MAP[t]+e+(a?"?"+a:""),this.sendReq("get")}},{key:"post",value:function(e,_,t){return t=t||"APP",this.url=BASE_API_MAP[t]+e,this.sendReq("post",_)}},{key:"delete",value:function(e,_,t){return t=t||"APP",this.url=BASE_API_MAP[t]+e,this.sendReq("delete",_)}},{key:"upload",value:function(){}},{key:"put",value:function(e,_,t){return t=t||"APP",this.url=BASE_API_MAP[t]+e,this.sendReq("put",_)}},{key:"update",value:function(){}},{key:"httpReq",value:function(e,_){var t=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(e){case"get":return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3___default()(this.url,{method:"GET",credentials:"include",headers:_}).then(function(e){return t.handleErrors(e)}).then(function(e){return e.json()}).then(function(e){return t.handleRes(e)});case"post":return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3___default()(this.url,{method:"POST",headers:babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({"Content-Type":"application/json"},_),body:JSON.stringify(a)}).then(function(e){return t.handleErrors(e)}).then(function(e){return e.json()}).then(function(e){return t.handleRes(e)});case"delete":return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3___default()(this.url,{method:"DELETE",headers:babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({"Content-Type":"application/json"},_),body:JSON.stringify(a)}).then(function(e){return t.handleErrors(e)}).then(function(e){return e.json()}).then(function(e){return t.handleRes(e)});case"put":return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_3___default()(this.url,{method:"PUT",credentials:"include",headers:babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_0___default()({"Content-Type":"application/json"},_),body:JSON.stringify(a)}).then(function(e){return t.handleErrors(e)}).then(function(e){return e.json()}).then(function(e){return t.handleRes(e)});default:return}}},{key:"handleRes",value:function(e){if(!this.ok)throw e;return e}},{key:"handleErrors",value:function(e){return e.ok||e.status>=200&&e.status<300?this.ok=!0:this.ok=!1,401==e.status&&(location.href="http://home.dp.jpushoa.com/login/jiguang/?next=http://databench.dp.jpushoa.com"),e}},{key:"sendReq",value:function(e,_){if(this.url){return this.httpReq(e,{},_)}}},{key:"createAuthorizationHeader",value:function(e){var _=(this.getCookie("SESSION_ID")?"sessionId="+this.getCookie("SESSION_ID"):"")||(this.getCookie("sessionid")?"sessionId="+this.getCookie("sessionid"):"")||"sessionId=test";e.Authorization=_}},{key:"getCookie",value:function(e){for(var _=document.cookie.split("; "),t=[],a=0,r=_.length;a<r;a++)if((t=_[a].split("="))[0]===e)return decodeURI(t[1]);return""}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),RequestBase}(),_default=RequestBase,reactHotLoader,leaveModule;__webpack_exports__.a=_default,reactHotLoader=__webpack_require__("0cfB").default,leaveModule=__webpack_require__("0cfB").leaveModule,reactHotLoader&&(reactHotLoader.register(BASE_API_MAP,"BASE_API_MAP","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/net.jsx"),reactHotLoader.register(DEV_TOKEN,"DEV_TOKEN","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/net.jsx"),reactHotLoader.register(RequestBase,"RequestBase","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/net.jsx"),reactHotLoader.register(_default,"default","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/net.jsx"),leaveModule(module))}).call(this,__webpack_require__("3UD+")(module))},YSrZ:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var slucky_component_tab__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("Tggw"),slucky_component_tab__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(slucky_component_tab__WEBPACK_IMPORTED_MODULE_0__),slucky_component_select__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ppmW"),slucky_component_select__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(slucky_component_select__WEBPACK_IMPORTED_MODULE_1__),slucky_component_toast__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("R5rc"),slucky_component_toast__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(slucky_component_toast__WEBPACK_IMPORTED_MODULE_2__),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("iCc5"),babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3__),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("V7oC"),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4__),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("FYw3"),babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("mRg0"),babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6__),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("q1tI"),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),_data__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("0FSE"),_commonLoading__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("Ew02"),_app_scss__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("JQC6"),_app_scss__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(_app_scss__WEBPACK_IMPORTED_MODULE_10__),enterModule;enterModule=__webpack_require__("0cfB").enterModule,enterModule&&enterModule(module);var App=function(_Component){function App(){babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_3___default()(this,App);var e=babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5___default()(this,(App.__proto__||Object.getPrototypeOf(App)).call(this));return e.state={jptList:[],jptCurrent:"",yarnCurrent:"",yarn_queue_list:[],access_url:"",status:0,source:[],name:"",iportal_name:"",department_name:"",jptLoading:!0,isGotoRegister:!1},e}return babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_6___default()(App,_Component),babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_4___default()(App,[{key:"componentDidMount",value:function(){var e=this;Object(_data__WEBPACK_IMPORTED_MODULE_8__.c)().then(function(_){var t=_.data,a=t.name,r=t.iportal_name,n=t.department_name;e.setState({name:a,iportal_name:r,department_name:n})}),Object(_data__WEBPACK_IMPORTED_MODULE_8__.a)().then(function(_){var t=_.data;e.setState({jptList:t}),t.length||e.setState({isGotoRegister:!0,jptLoading:!1})}),Object(_data__WEBPACK_IMPORTED_MODULE_8__.d)().then(function(_){var t=_.data,a=t.current,r=t.yarn_queue_list;e.setState({yarnCurrent:a,yarn_queue_list:r})})}},{key:"handleChangeJptClient",value:function(e){var _=this;this.setState({jptCurrent:e}),Object(_data__WEBPACK_IMPORTED_MODULE_8__.b)(e).then(function(e){var t=e.data,a=t.access_url,r=t.status;_.setState({access_url:a,status:r})})}},{key:"handleChangeYarn",value:function(e){this.setState({yarnCurrent:e}),Object(_data__WEBPACK_IMPORTED_MODULE_8__.e)({yarn_queue:e}).then(function(e){slucky_component_toast__WEBPACK_IMPORTED_MODULE_2___default.a.success("更改成功")})}},{key:"render",value:function(){var e=this,_=this.state.yarn_queue_list.map(function(e){return{label:e,value:e}});return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:""},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"d-f jc-b plr16 pt16 pb4"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"d-f ac"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:__webpack_require__("aRK4"),className:"h32 mr32",alt:""})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"d-f ac"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"mr16"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"ml16 s0"},"队列："),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(slucky_component_select__WEBPACK_IMPORTED_MODULE_1___default.a,{width:"256px",value:this.state.yarnCurrent,onChange:function(_){return e.handleChangeYarn(_)},option:_})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{className:"pr16"},this.state.name))),this.state.jptLoading?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:["p-a t0 main-content bg-w",this.state.jptLoading?"z9":"z-1"].join(" ")},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_commonLoading__WEBPACK_IMPORTED_MODULE_9__.a,null)):null,this.state.isGotoRegister?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"p-a t0 d-f jc ac fullscreen fs18 bg-w z9 ta-c"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("img",{src:__webpack_require__("pDHO"),alt:"",srcset:"",className:"h192 pb32"})),"请先前往",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("a",{href:"http://apply.dp.jpushoa.com/",className:"plr8"},"工单平台"),"申请机器")):null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(slucky_component_tab__WEBPACK_IMPORTED_MODULE_0___default.a.Group,{layout:"simple",tabIndex:0},this.state.jptList.map(function(_,t){var a=_.access_url,r=_.client_name;_.status;return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(slucky_component_tab__WEBPACK_IMPORTED_MODULE_0___default.a,{label:"客户端 "+r,key:t},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"fs0"},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("iframe",{className:"main-content",style:{border:"none",width:"100%"},id:"iframeModev",src:a,onLoad:function(){return e.setState({jptLoading:!1})}})))}))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),App}(react__WEBPACK_IMPORTED_MODULE_7__.Component),_default=App,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader=__webpack_require__("0cfB").default,leaveModule=__webpack_require__("0cfB").leaveModule,reactHotLoader&&(reactHotLoader.register(App,"App","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/app.jsx"),reactHotLoader.register(_default,"default","/Users/flyteng/Desktop/workspace/office/jpt-iportal/src/component/app.jsx"),leaveModule(module))}.call(this,__webpack_require__("3UD+")(module))},aRK4:function(e,_,t){e.exports=t.p+"435f72b18bc3869e8af51fef0141d1f3.svg"},pDHO:function(e,_,t){e.exports=t.p+"e5505b821c407d1b99016eb2bc2488f1.png"}}]);